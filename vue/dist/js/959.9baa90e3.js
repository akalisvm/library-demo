"use strict";(self["webpackChunkspringboot_vue_project"]=self["webpackChunkspringboot_vue_project"]||[]).push([[959],{1959:function(e,l,a){a.r(l),a.d(l,{default:function(){return S}});var t=a(6252),o=a(9963),s=a(3577);const i=(0,t.Uk)(" 查询"),r=(0,t.Uk)(" 重置"),m=(0,t.Uk)(" 新增用户"),d=(0,t.Uk)(" 批量删除用户"),n={key:0},u={key:1},p=(0,t.Uk)(" 编辑"),h=(0,t.Uk)(" 删除"),g={style:{margin:"10px 0"}},c=["id"],f=["id"],w=(0,t.Uk)("男"),W=(0,t.Uk)("女"),b=(0,t.Uk)("未知"),y=(0,t.Uk)("管理员"),V=(0,t.Uk)("普通用户"),_={class:"dialog-footer"},k=(0,t.Uk)("取消"),C=(0,t.Uk)("确定");function U(e,l,a,U,x,v){const z=(0,t.up)("el-input"),P=(0,t.up)("Search"),S=(0,t.up)("el-icon"),D=(0,t.up)("el-button"),$=(0,t.up)("RefreshLeft"),E=(0,t.up)("Plus"),Z=(0,t.up)("Delete"),T=(0,t.up)("el-table-column"),q=(0,t.up)("Edit"),j=(0,t.up)("el-popconfirm"),B=(0,t.up)("el-table"),I=(0,t.up)("el-pagination"),K=(0,t.up)("el-form-item"),N=(0,t.up)("el-input-number"),J=(0,t.up)("el-radio"),O=(0,t.up)("el-radio-group"),L=(0,t.up)("el-form"),R=(0,t.up)("el-dialog");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",{style:{"margin-top":"10px"},onKeyup:l[3]||(l[3]=(0,o.D2)(((...e)=>v.load&&v.load(...e)),["enter","native"]))},[(0,t.Wm)(z,{modelValue:x.searchUsername,"onUpdate:modelValue":l[0]||(l[0]=e=>x.searchUsername=e),placeholder:"请输入用户姓名",clearable:"",style:{width:"10%"}},null,8,["modelValue"]),(0,t.Wm)(z,{modelValue:x.searchPhone,"onUpdate:modelValue":l[1]||(l[1]=e=>x.searchPhone=e),placeholder:"请输入用户电话号码",clearable:"",style:{width:"10%","margin-left":"5px"}},null,8,["modelValue"]),(0,t.Wm)(z,{modelValue:x.searchEmail,"onUpdate:modelValue":l[2]||(l[2]=e=>x.searchEmail=e),placeholder:"请输入用户邮箱",clearable:"",style:{width:"10%","margin-left":"5px"}},null,8,["modelValue"]),(0,t.Wm)(D,{style:{"margin-left":"5px","margin-bottom":"5px"},onClick:v.load},{default:(0,t.w5)((()=>[i,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(P)])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(D,{style:{"margin-left":"5px","margin-bottom":"5px"},onClick:v.reset},{default:(0,t.w5)((()=>[r,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)($)])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(D,{style:{"margin-left":"5px","margin-bottom":"5px"},onClick:v.create,type:"primary"},{default:(0,t.w5)((()=>[m,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(E)])),_:1})])),_:1},8,["onClick"]),(0,t.Wm)(D,{style:{"margin-left":"5px","margin-bottom":"5px"},onClick:v.deleteBatch,type:"danger"},{default:(0,t.w5)((()=>[d,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z)])),_:1})])),_:1},8,["onClick"])],32),(0,t.Wm)(B,{data:x.tableData,stripe:"",style:{width:"100%"},fit:"",onSelectionChange:v.handleSelectionChange},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{type:"selection",width:"55"}),(0,t.Wm)(T,{prop:"id",label:"用户ID"}),(0,t.Wm)(T,{prop:"username",label:"用户名"}),(0,t.Wm)(T,{prop:"age",label:"年龄"}),(0,t.Wm)(T,{prop:"gender",label:"性别"}),(0,t.Wm)(T,{prop:"phone",label:"电话"}),(0,t.Wm)(T,{prop:"email",label:"邮箱"}),(0,t.Wm)(T,{prop:"address",label:"地址"}),(0,t.Wm)(T,{label:"角色"},{default:(0,t.w5)((e=>["admin"===e.row.role?((0,t.wg)(),(0,t.iD)("span",n,"管理员")):(0,t.kq)("",!0),"user"===e.row.role?((0,t.wg)(),(0,t.iD)("span",u,"普通用户")):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(T,{fixed:"right",label:"操作",width:"210"},{default:(0,t.w5)((e=>[(0,t.Wm)(D,{size:"small",onClick:l=>v.edit(e.row),type:"primary"},{default:(0,t.w5)((()=>[p,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(q)])),_:1})])),_:2},1032,["onClick"]),(0,t.Wm)(j,{title:"您是否确认删除？",onConfirm:l=>v.remove(e.row.id)},{reference:(0,t.w5)((()=>[(0,t.Wm)(D,{type:"danger",size:"small"},{default:(0,t.w5)((()=>[h,(0,t.Wm)(S,{style:{"margin-left":"5px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(Z)])),_:1})])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,t._)("div",g,[(0,t.Wm)(I,{onSizeChange:v.sizeChange,onCurrentChange:v.currentChange,currentPage:x.currentPage,"onUpdate:currentPage":l[4]||(l[4]=e=>x.currentPage=e),"page-sizes":[5,10,20],"page-size":x.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:x.total},null,8,["onSizeChange","onCurrentChange","currentPage","page-size","total"]),(0,t.Wm)(R,{modelValue:x.dialogVisible,"onUpdate:modelValue":l[14]||(l[14]=e=>x.dialogVisible=e),width:"50%","before-close":v.close},{header:(0,t.w5)((({titleId:e,titleClass:l})=>[(0,t._)("div",null,["create"===x.dialogTitle?((0,t.wg)(),(0,t.iD)("span",{key:0,id:e,class:(0,s.C_)(l)},"新增用户信息",10,c)):(0,t.kq)("",!0),"edit"===x.dialogTitle?((0,t.wg)(),(0,t.iD)("span",{key:1,id:e,class:(0,s.C_)(l)},"修改用户信息",10,f)):(0,t.kq)("",!0)])])),footer:(0,t.w5)((()=>[(0,t._)("span",_,[(0,t.Wm)(D,{onClick:l[13]||(l[13]=e=>x.dialogVisible=!1)},{default:(0,t.w5)((()=>[k])),_:1}),(0,t.Wm)(D,{type:"primary",onClick:v.save},{default:(0,t.w5)((()=>[C])),_:1},8,["onClick"])])])),default:(0,t.w5)((()=>[(0,t.Wm)(L,{model:x.form,"label-width":"120px",onKeyup:(0,o.D2)(v.save,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Wm)(K,{label:"用户名"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:x.form.username,"onUpdate:modelValue":l[5]||(l[5]=e=>x.form.username=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"密码"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:x.form.password,"onUpdate:modelValue":l[6]||(l[6]=e=>x.form.password=e),style:{width:"80%"},type:"password","show-password":""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"年龄"},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{modelValue:x.form.age,"onUpdate:modelValue":l[7]||(l[7]=e=>x.form.age=e),min:0,style:{width:"20%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"电话"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:x.form.phone,"onUpdate:modelValue":l[8]||(l[8]=e=>x.form.phone=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"邮箱"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{modelValue:x.form.email,"onUpdate:modelValue":l[9]||(l[9]=e=>x.form.email=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{modelValue:x.form.gender,"onUpdate:modelValue":l[10]||(l[10]=e=>x.form.gender=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{label:"男"},{default:(0,t.w5)((()=>[w])),_:1}),(0,t.Wm)(J,{label:"女"},{default:(0,t.w5)((()=>[W])),_:1}),(0,t.Wm)(J,{label:"未知"},{default:(0,t.w5)((()=>[b])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"地址"},{default:(0,t.w5)((()=>[(0,t.Wm)(z,{type:"textarea",modelValue:x.form.address,"onUpdate:modelValue":l[11]||(l[11]=e=>x.form.address=e),style:{width:"80%"}},null,8,["modelValue"])])),_:1}),(0,t.Wm)(K,{label:"角色"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{modelValue:x.form.role,"onUpdate:modelValue":l[12]||(l[12]=e=>x.form.role=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(J,{label:"admin"},{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(J,{label:"user"},{default:(0,t.w5)((()=>[V])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","onKeyup"])])),_:1},8,["modelValue","before-close"])])])}var x=a(4471),v={name:"User",components:{},data(){return{dialogVisible:!1,dialogTitle:"create",form:{},searchUsername:"",searchPhone:"",searchEmail:"",currentPage:1,pageSize:10,total:0,records:[],tableData:[],ids:[]}},created(){this.load()},methods:{create(){this.dialogVisible=!0,this.dialogTitle="create",this.form={}},close(){this.dialogVisible=!1},save(){this.form.id?x.Z.put("/user",this.form).then((e=>{console.log(e),"0"===e.code?(this.$message({type:"success",message:"编辑用户成功！"}),this.dialogVisible=!1,this.load()):(this.$message({type:"error",message:e.msg}),this.dialogVisible=!1)})):x.Z.post("/user",this.form).then((e=>{console.log(e),"0"===e.code?(this.$message({type:"success",message:"新增用户成功！"}),this.dialogVisible=!1,this.load()):(this.$message({type:"error",message:e.msg}),this.dialogVisible=!1)}))},load(){x.Z.get("/user",{params:{pageNum:this.currentPage,pageSize:this.pageSize,searchUsername:this.searchUsername,searchPhone:this.searchPhone,searchEmail:this.searchEmail}}).then((e=>{console.log(e),this.tableData=e.data.records,this.total=e.data.total}))},reset(){this.searchUsername="",this.searchPhone="",this.searchEmail=""},edit(e){this.form=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,this.dialogTitle="edit"},remove(e){x.Z["delete"]("/user/"+e).then((e=>{console.log(e),"0"===e.code?(this.$message({type:"success",message:"删除用户成功！"}),this.load()):this.$message({type:"error",message:e.msg})}))},deleteBatch(){this.ids.length?x.Z.post("/user/deleteBatchIds",this.ids).then((e=>{"0"===e.code?(this.$message.success("批量删除用户成功！"),this.load()):this.$message({type:"error",message:e.msg})})):this.$message.warning("请先选择要删除的用户！")},handleSelectionChange(e){this.ids=e.map((e=>e.id))},currentChange(e){this.currentPage=e,this.load()},sizeChange(e){this.pageSize=e,this.load()}}},z=a(3744);const P=(0,z.Z)(v,[["render",U]]);var S=P}}]);
//# sourceMappingURL=959.9baa90e3.js.map