"use strict";(self["webpackChunkspringboot_vue_project"]=self["webpackChunkspringboot_vue_project"]||[]).push([[319],{7319:function(e,a,l){l.r(a),l.d(a,{default:function(){return W}});var t=l(6252),o=l(9963);const r=(0,t.Uk)("点击上传"),s=(0,t.Uk)("男"),u=(0,t.Uk)("女"),m=(0,t.Uk)("未知"),d={style:{"text-align":"center"}},n=(0,t.Uk)("返回"),p=(0,t.Uk)("保存");function f(e,a,l,f,i,c){const w=(0,t.up)("el-col"),h=(0,t.up)("el-image"),W=(0,t.up)("el-avatar"),g=(0,t.up)("el-row"),_=(0,t.up)("el-button"),b=(0,t.up)("el-upload"),v=(0,t.up)("el-form-item"),V=(0,t.up)("el-input"),y=(0,t.up)("el-radio"),k=(0,t.up)("el-radio-group"),U=(0,t.up)("el-form"),x=(0,t.up)("el-card");return(0,t.wg)(),(0,t.j4)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{span:4}),(0,t.Wm)(w,{span:16},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(x,{style:{margin:"10px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{ref:"form",model:i.form,"label-width":"80px",onKeyup:(0,o.D2)(c.save,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,{span:10}),(0,t.Wm)(w,{span:4},{default:(0,t.w5)((()=>[""!==this.form.avatar?((0,t.wg)(),(0,t.j4)(W,{key:0,size:180,style:{"margin-bottom":"20px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{src:this.form.avatar,"preview-src-list":[this.form.avatar]},null,8,["src","preview-src-list"])])),_:1})):((0,t.wg)(),(0,t.j4)(W,{key:1,size:180,style:{"margin-bottom":"20px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{src:this.defaultAvatar},null,8,["src"])])),_:1}))])),_:1}),(0,t.Wm)(w,{span:10})])),_:1}),(0,t.Wm)(v,{label:"头像"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{action:i.url,ref:"upload","on-success":c.uploaded,limit:1,"on-exceed":c.handleExceed},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{type:"primary"},{default:(0,t.w5)((()=>[r])),_:1})])),_:1},8,["action","on-success","on-exceed"])])),_:1}),(0,t.Wm)(v,{label:"用户名"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.username,"onUpdate:modelValue":a[0]||(a[0]=e=>i.form.username=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"密码"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.password,"onUpdate:modelValue":a[1]||(a[1]=e=>i.form.password=e),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"年龄"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.age,"onUpdate:modelValue":a[2]||(a[2]=e=>i.form.age=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"电话"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.phone,"onUpdate:modelValue":a[3]||(a[3]=e=>i.form.phone=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"邮箱"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.email,"onUpdate:modelValue":a[4]||(a[4]=e=>i.form.email=e)},null,8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"性别"},{default:(0,t.w5)((()=>[(0,t.Wm)(k,{modelValue:i.form.gender,"onUpdate:modelValue":a[5]||(a[5]=e=>i.form.gender=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{label:"男"},{default:(0,t.w5)((()=>[s])),_:1}),(0,t.Wm)(y,{label:"女"},{default:(0,t.w5)((()=>[u])),_:1}),(0,t.Wm)(y,{label:"未知"},{default:(0,t.w5)((()=>[m])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,t.Wm)(v,{label:"地址"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{modelValue:i.form.address,"onUpdate:modelValue":a[6]||(a[6]=e=>i.form.address=e),type:"textarea"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","onKeyup"]),(0,t._)("div",d,[(0,t.Wm)(_,{onClick:a[7]||(a[7]=e=>this.$router.back())},{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(_,{type:"primary",onClick:c.save},{default:(0,t.w5)((()=>[p])),_:1},8,["onClick"])])])),_:1})])])),_:1}),(0,t.Wm)(w,{span:4})])),_:1})}var i=l(4471);var c={name:"Person",data(){return{form:{},user:{},url:"http://"+window.server.ip+"/api/upload/avatar",defaultAvatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}},created(){let e=sessionStorage.getItem("user")||"{}";this.form=JSON.parse(e),this.user.username=this.form.username,this.load()},methods:{load(){i.Z.get("/user/"+this.user.username).then((e=>{"0"===e.code&&(this.user=e.data,console.log(this.user),this.form=this.user)}))},save(){i.Z.put("/user",this.form).then((e=>{"0"===e.code?(this.$message({type:"success",message:"更新用户信息成功！"}),sessionStorage.setItem("user",JSON.stringify(this.form))):this.$message({type:"error",message:e.msg})}))},uploaded(e){this.form.avatar=e.data},handleExceed(){this.$message({type:"warning",message:"请先删除当前图片再上传新头像"})}}},w=l(3744);const h=(0,w.Z)(c,[["render",f]]);var W=h}}]);
//# sourceMappingURL=319.3c63a500.js.map